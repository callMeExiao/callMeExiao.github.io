import{_ as c,c as l,a,d as e,e as p,b as o,r as t,o as r}from"./app-pBrtxVLr.js";const i={};function B(y,s){const n=t("mcfile");return r(),l("div",null,[s[2]||(s[2]=a('<p>本文将介绍如何利用 GitHub Actions 自动获取必应每日壁纸，并将其设置为博客的背景图片。</p><h2 id="_1-项目结构" tabindex="-1"><a class="header-anchor" href="#_1-项目结构"><span>1. 项目结构</span></a></h2><p>主要涉及以下几个部分：</p><ol><li>Java 程序：负责获取和处理必应壁纸</li><li>GitHub Actions 配置：负责定时执行程序</li><li>网站配置：展示背景图片</li></ol><h2 id="_2-java-程序实现" tabindex="-1"><a class="header-anchor" href="#_2-java-程序实现"><span>2. Java 程序实现</span></a></h2><h3 id="_2-1-依赖配置" tabindex="-1"><a class="header-anchor" href="#_2-1-依赖配置"><span>2.1 依赖配置</span></a></h3>',6)),e("p",null,[s[0]||(s[0]=p("在 ",-1)),o(n,{name:"pom.xml",path:"f:\\Codes\\Projects\\callMeExiao.github.io\\pom.xml"}),s[1]||(s[1]=p(" 中添加所需依赖：",-1))]),s[3]||(s[3]=a(`<div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">dependencies</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">&lt;!--</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">HTTP客户端</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">--&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">dependency</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;org.apache.httpcomponents&lt;/</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;httpclient&lt;/</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;4.5.13&lt;/</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">dependency</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">&lt;!--</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">JSON处理</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">--&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">dependency</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;com.fasterxml.jackson.core&lt;/</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;jackson-databind&lt;/</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;2.13.4.1&lt;/</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">dependency</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">&lt;!--</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">日志</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">--&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">dependency</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;org.slf4j&lt;/</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;slf4j-api&lt;/</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;1.7.36&lt;/</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">dependency</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">dependency</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;ch.qos.logback&lt;/</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;logback-classic&lt;/</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;1.2.11&lt;/</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">dependency</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">dependencies</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-核心代码实现" tabindex="-1"><a class="header-anchor" href="#_2-2-核心代码实现"><span>2.2 核心代码实现</span></a></h3><p>主要实现在 <code>BingWallpaperApp.java</code> 中，核心功能包括：</p><ol><li>调用必应壁纸 API 获取每日图片信息</li><li>下载壁纸图片到指定目录</li><li>更新壁纸相关数据</li></ol><p>核心方法说明：</p><ul><li><code>fetchBingData</code> ：获取必应 API 数据</li><li><code>downloadImage</code> ：下载壁纸图片</li><li><code>updateWallpaperData</code> ：更新壁纸数据文件</li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">public</span><span class="space"> </span><span style="color:#C678DD;">class</span><span class="space"> </span><span style="color:#E5C07B;">BingWallpaperApp</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">private</span><span class="space"> </span><span style="color:#C678DD;">static</span><span class="space"> </span><span style="color:#C678DD;">final</span><span class="space"> </span><span style="color:#E5C07B;">Logger</span><span class="space"> </span><span style="color:#E06C75;">logger</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E5C07B;">LoggerFactory</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getLogger</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">BingWallpaperApp</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">class</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">private</span><span class="space"> </span><span style="color:#C678DD;">static</span><span class="space"> </span><span style="color:#C678DD;">final</span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;">BING_API_URL</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#98C379;">&quot;https://www.bing.com/HPImageArchive.aspx?format=js&amp;idx=0&amp;n=1&amp;mkt=zh-CN&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">private</span><span class="space"> </span><span style="color:#C678DD;">static</span><span class="space"> </span><span style="color:#C678DD;">final</span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;">BING_BASE_URL</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#98C379;">&quot;https://www.bing.com&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">private</span><span class="space"> </span><span style="color:#C678DD;">static</span><span class="space"> </span><span style="color:#C678DD;">final</span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;">IMAGES_DIR</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#98C379;">&quot;docs/.vuepress/public/images&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">private</span><span class="space"> </span><span style="color:#C678DD;">static</span><span class="space"> </span><span style="color:#C678DD;">final</span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;">WALLPAPER_DATA_FILE</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#98C379;">&quot;docs/.vuepress/public/data/bing-wallpaper.json&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">public</span><span class="space"> </span><span style="color:#C678DD;">static</span><span class="space"> </span><span style="color:#C678DD;">void</span><span class="space"> </span><span style="color:#61AFEF;">main</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span style="color:#ABB2BF;">[]</span><span class="space"> </span><span style="color:#E06C75;font-style:italic;">args</span><span style="color:#ABB2BF;">)</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">try</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">logger</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">info</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;开始执行Bing壁纸更新任务&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">//</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">确保目录存在</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#61AFEF;">createDirectoryIfNotExists</span><span style="color:#ABB2BF;">(IMAGES_DIR);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#61AFEF;">createDirectoryIfNotExists</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Paths</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">get</span><span style="color:#ABB2BF;">(WALLPAPER_DATA_FILE).</span><span style="color:#61AFEF;">getParent</span><span style="color:#ABB2BF;">().</span><span style="color:#61AFEF;">toString</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">//</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">获取Bing壁纸信息</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;">bingData</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#61AFEF;">fetchBingData</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">ObjectMapper</span><span class="space"> </span><span style="color:#E06C75;">mapper</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#C678DD;">new</span><span class="space"> </span><span style="color:#61AFEF;">ObjectMapper</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">JsonNode</span><span class="space"> </span><span style="color:#E06C75;">rootNode</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E5C07B;">mapper</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">readTree</span><span style="color:#ABB2BF;">(bingData);</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">//</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">解析壁纸数据</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">JsonNode</span><span class="space"> </span><span style="color:#E06C75;">imageNode</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E5C07B;">rootNode</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">path</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;images&quot;</span><span style="color:#ABB2BF;">).</span><span style="color:#61AFEF;">get</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;">imageUrl</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#ABB2BF;">BING_BASE_URL</span><span class="space"> </span><span style="color:#56B6C2;">+</span><span class="space"> </span><span style="color:#E5C07B;">imageNode</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">path</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;url&quot;</span><span style="color:#ABB2BF;">).</span><span style="color:#61AFEF;">asText</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;">copyright</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E5C07B;">imageNode</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">path</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;copyright&quot;</span><span style="color:#ABB2BF;">).</span><span style="color:#61AFEF;">asText</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;">date</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#C678DD;">new</span><span class="space"> </span><span style="color:#61AFEF;">SimpleDateFormat</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;yyyy-MM-dd&quot;</span><span style="color:#ABB2BF;">).</span><span style="color:#61AFEF;">format</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">new</span><span class="space"> </span><span style="color:#61AFEF;">Date</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">//</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">下载壁纸</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;">fileName</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#98C379;">&quot;bingWallpaper.jpg&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;">localPath</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#ABB2BF;">IMAGES_DIR</span><span class="space"> </span><span style="color:#56B6C2;">+</span><span class="space"> </span><span style="color:#98C379;">&quot;/&quot;</span><span class="space"> </span><span style="color:#56B6C2;">+</span><span class="space"> </span><span style="color:#ABB2BF;">fileName;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#61AFEF;">downloadImage</span><span style="color:#ABB2BF;">(imageUrl,</span><span class="space"> </span><span style="color:#ABB2BF;">localPath);</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">//</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">更新数据文件</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#61AFEF;">updateWallpaperData</span><span style="color:#ABB2BF;">(date,</span><span class="space"> </span><span style="color:#ABB2BF;">copyright,</span><span class="space"> </span><span style="color:#ABB2BF;">fileName);</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">logger</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">info</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;Bing壁纸更新任务完成&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span><span class="space"> </span><span style="color:#C678DD;">catch</span><span class="space"> </span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Exception</span><span class="space"> </span><span style="color:#E06C75;font-style:italic;">e</span><span style="color:#ABB2BF;">)</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">logger</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">error</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;执行Bing壁纸更新任务时发生错误&quot;</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#ABB2BF;">e);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">System</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">exit</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">private</span><span class="space"> </span><span style="color:#C678DD;">static</span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#61AFEF;">fetchBingData</span><span style="color:#ABB2BF;">()</span><span class="space"> </span><span style="color:#C678DD;">throws</span><span class="space"> </span><span style="color:#E5C07B;">IOException</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">try</span><span class="space"> </span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">CloseableHttpClient</span><span class="space"> </span><span style="color:#E06C75;">httpClient</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E5C07B;">HttpClients</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">createDefault</span><span style="color:#ABB2BF;">())</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">HttpGet</span><span class="space"> </span><span style="color:#E06C75;">request</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#C678DD;">new</span><span class="space"> </span><span style="color:#61AFEF;">HttpGet</span><span style="color:#ABB2BF;">(BING_API_URL);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">try</span><span class="space"> </span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">CloseableHttpResponse</span><span class="space"> </span><span style="color:#E06C75;">response</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E5C07B;">httpClient</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">execute</span><span style="color:#ABB2BF;">(request))</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">return</span><span class="space"> </span><span style="color:#E5C07B;">EntityUtils</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">toString</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">response</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getEntity</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">private</span><span class="space"> </span><span style="color:#C678DD;">static</span><span class="space"> </span><span style="color:#C678DD;">void</span><span class="space"> </span><span style="color:#61AFEF;">downloadImage</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;font-style:italic;">imageUrl</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;font-style:italic;">localPath</span><span style="color:#ABB2BF;">)</span><span class="space"> </span><span style="color:#C678DD;">throws</span><span class="space"> </span><span style="color:#E5C07B;">IOException</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">try</span><span class="space"> </span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">CloseableHttpClient</span><span class="space"> </span><span style="color:#E06C75;">httpClient</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E5C07B;">HttpClients</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">createDefault</span><span style="color:#ABB2BF;">())</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">HttpGet</span><span class="space"> </span><span style="color:#E06C75;">request</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#C678DD;">new</span><span class="space"> </span><span style="color:#61AFEF;">HttpGet</span><span style="color:#ABB2BF;">(imageUrl);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">try</span><span class="space"> </span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">CloseableHttpResponse</span><span class="space"> </span><span style="color:#E06C75;">response</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E5C07B;">httpClient</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">execute</span><span style="color:#ABB2BF;">(request);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">InputStream</span><span class="space"> </span><span style="color:#E06C75;">inputStream</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E5C07B;">response</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">getEntity</span><span style="color:#ABB2BF;">().</span><span style="color:#61AFEF;">getContent</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">FileOutputStream</span><span class="space"> </span><span style="color:#E06C75;">outputStream</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#C678DD;">new</span><span class="space"> </span><span style="color:#61AFEF;">FileOutputStream</span><span style="color:#ABB2BF;">(localPath))</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">byte</span><span style="color:#ABB2BF;">[]</span><span class="space"> </span><span style="color:#E06C75;">buffer</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#C678DD;">new</span><span class="space"> </span><span style="color:#C678DD;">byte</span><span style="color:#ABB2BF;">[</span><span style="color:#D19A66;">4096</span><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">int</span><span class="space"> </span><span style="color:#E06C75;">bytesRead</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">while</span><span class="space"> </span><span style="color:#ABB2BF;">((bytesRead</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E5C07B;">inputStream</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">read</span><span style="color:#ABB2BF;">(buffer))</span><span class="space"> </span><span style="color:#56B6C2;">!=</span><span class="space"> </span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">)</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">outputStream</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">write</span><span style="color:#ABB2BF;">(buffer,</span><span class="space"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#ABB2BF;">bytesRead);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">logger</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">info</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;壁纸已下载到:</span><span class="space"> </span><span style="color:#98C379;">{}&quot;</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#ABB2BF;">localPath);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">private</span><span class="space"> </span><span style="color:#C678DD;">static</span><span class="space"> </span><span style="color:#C678DD;">void</span><span class="space"> </span><span style="color:#61AFEF;">updateWallpaperData</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;font-style:italic;">date</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;font-style:italic;">copyright</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;font-style:italic;">fileName</span><span style="color:#ABB2BF;">)</span><span class="space"> </span><span style="color:#C678DD;">throws</span><span class="space"> </span><span style="color:#E5C07B;">IOException</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">File</span><span class="space"> </span><span style="color:#E06C75;">dataFile</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#C678DD;">new</span><span class="space"> </span><span style="color:#61AFEF;">File</span><span style="color:#ABB2BF;">(WALLPAPER_DATA_FILE);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">ObjectMapper</span><span class="space"> </span><span style="color:#E06C75;">mapper</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#C678DD;">new</span><span class="space"> </span><span style="color:#61AFEF;">ObjectMapper</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">JsonNode</span><span class="space"> </span><span style="color:#E06C75;">rootNode</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">if</span><span class="space"> </span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">dataFile</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">exists</span><span style="color:#ABB2BF;">())</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">rootNode</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E5C07B;">mapper</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">readTree</span><span style="color:#ABB2BF;">(dataFile);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span><span class="space"> </span><span style="color:#C678DD;">else</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">rootNode</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E5C07B;">mapper</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">createObjectNode</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">((</span><span style="color:#E5C07B;">com</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">fasterxml</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">jackson</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">databind</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ObjectNode</span><span style="color:#ABB2BF;">)</span><span class="space"> </span><span style="color:#ABB2BF;">rootNode).</span><span style="color:#61AFEF;">put</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;lastUpdate&quot;</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#ABB2BF;">date);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">((</span><span style="color:#E5C07B;">com</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">fasterxml</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">jackson</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">databind</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ObjectNode</span><span style="color:#ABB2BF;">)</span><span class="space"> </span><span style="color:#ABB2BF;">rootNode).</span><span style="color:#61AFEF;">put</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;copyright&quot;</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#ABB2BF;">copyright);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">((</span><span style="color:#E5C07B;">com</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">fasterxml</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">jackson</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">databind</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">ObjectNode</span><span style="color:#ABB2BF;">)</span><span class="space"> </span><span style="color:#ABB2BF;">rootNode).</span><span style="color:#61AFEF;">put</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;image&quot;</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#98C379;">&quot;images/bing/&quot;</span><span class="space"> </span><span style="color:#56B6C2;">+</span><span class="space"> </span><span style="color:#ABB2BF;">fileName);</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">mapper</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">writerWithDefaultPrettyPrinter</span><span style="color:#ABB2BF;">().</span><span style="color:#61AFEF;">writeValue</span><span style="color:#ABB2BF;">(dataFile,</span><span class="space"> </span><span style="color:#ABB2BF;">rootNode);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">logger</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">info</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;壁纸数据已更新&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">private</span><span class="space"> </span><span style="color:#C678DD;">static</span><span class="space"> </span><span style="color:#C678DD;">void</span><span class="space"> </span><span style="color:#61AFEF;">createDirectoryIfNotExists</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span class="space"> </span><span style="color:#E06C75;font-style:italic;">dirPath</span><span style="color:#ABB2BF;">)</span><span class="space"> </span><span style="color:#C678DD;">throws</span><span class="space"> </span><span style="color:#E5C07B;">IOException</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">Path</span><span class="space"> </span><span style="color:#E06C75;">path</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E5C07B;">Paths</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">get</span><span style="color:#ABB2BF;">(dirPath);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">if</span><span class="space"> </span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">!</span><span style="color:#E5C07B;">Files</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">exists</span><span style="color:#ABB2BF;">(path))</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">Files</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">createDirectories</span><span style="color:#ABB2BF;">(path);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">logger</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">info</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;创建目录:</span><span class="space"> </span><span style="color:#98C379;">{}&quot;</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#ABB2BF;">dirPath);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3打包配置" tabindex="-1"><a class="header-anchor" href="#_2-3打包配置"><span>2.3打包配置</span></a></h3><p>为了能在 GitHub Actions 中运行，需要将程序打包成可执行 jar 包。在 pom.xml 中添加打包插件：</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">build</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">plugins</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">plugin</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;org.apache.maven.plugins&lt;/</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;maven-assembly-plugin&lt;/</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;3.1.0&lt;/</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">configuration</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">archive</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">manifest</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">mainClass</span><span style="color:#ABB2BF;">&gt;com.exiao.BingWallpaperApp&lt;/</span><span style="color:#E06C75;">mainClass</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">manifest</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">archive</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">descriptorRefs</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">descriptorRef</span><span style="color:#ABB2BF;">&gt;jar-with-dependencies&lt;/</span><span style="color:#E06C75;">descriptorRef</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">descriptorRefs</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">finalName</span><span style="color:#ABB2BF;">&gt;\${project.name}&lt;/</span><span style="color:#E06C75;">finalName</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">configuration</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">executions</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">execution</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">id</span><span style="color:#ABB2BF;">&gt;make-assembly&lt;/</span><span style="color:#E06C75;">id</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">phase</span><span style="color:#ABB2BF;">&gt;package&lt;/</span><span style="color:#E06C75;">phase</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">goals</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">goal</span><span style="color:#ABB2BF;">&gt;single&lt;/</span><span style="color:#E06C75;">goal</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">goals</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">execution</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">executions</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">plugin</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">plugins</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">build</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-github-actions-配置" tabindex="-1"><a class="header-anchor" href="#_3-github-actions-配置"><span>3. GitHub Actions 配置</span></a></h2><p>创建 .github/workflows/update-bing-wallpaper.yml 文件，配置定时任务：</p><div class="language-yml line-numbers-mode" data-ext="yml" data-title="yml"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">Update</span><span class="space"> </span><span style="color:#98C379;">Bing</span><span class="space"> </span><span style="color:#98C379;">Wallpaper</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D19A66;">on</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">push</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">当</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">main</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">分支接收到推送时触发</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">branches</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#ABB2BF;">[</span><span class="space"> </span><span style="color:#98C379;">main</span><span class="space"> </span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">schedule</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">定时任务（UTC</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">时间每天</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">0</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">点，北京时间</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">8</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">点）</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">cron</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">&#39;0</span><span class="space"> </span><span style="color:#98C379;">0</span><span class="space"> </span><span style="color:#98C379;">*</span><span class="space"> </span><span style="color:#98C379;">*</span><span class="space"> </span><span style="color:#98C379;">*&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;">jobs</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">build</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">使用最新版</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">Ubuntu</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">运行环境</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">runs-on</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">ubuntu-latest</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">steps</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">检出代码仓库</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">uses</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">actions/checkout@v2</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">设置</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">JDK</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">8</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">环境</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">Set</span><span class="space"> </span><span style="color:#98C379;">up</span><span class="space"> </span><span style="color:#98C379;">JDK</span><span class="space"> </span><span style="color:#98C379;">1.8</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">uses</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">actions/setup-java@v1</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">with</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">java-version</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#D19A66;">1.8</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">输出当前时间（用于日志记录）</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">current</span><span class="space"> </span><span style="color:#98C379;">date</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">run</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">date</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">Maven</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">打包项目</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">Build</span><span class="space"> </span><span style="color:#98C379;">with</span><span class="space"> </span><span style="color:#98C379;">Maven</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">run</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">mvn</span><span class="space"> </span><span style="color:#98C379;">-B</span><span class="space"> </span><span style="color:#98C379;">package</span><span class="space"> </span><span style="color:#98C379;">--file</span><span class="space"> </span><span style="color:#98C379;">pom.xml</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">运行</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">Java</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">程序生成壁纸</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">Run</span><span class="space"> </span><span style="color:#98C379;">Java</span><span class="space"> </span><span style="color:#98C379;">Application</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">run</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">java</span><span class="space"> </span><span style="color:#98C379;">-jar</span><span class="space"> </span><span style="color:#98C379;">target/bing-wallpaper-jar-with-dependencies.jar</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">提交变更文件（壁纸图片）</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">Commit</span><span class="space"> </span><span style="color:#98C379;">files</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">run</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#C678DD;">|</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#98C379;">git</span><span class="space"> </span><span style="color:#98C379;">config</span><span class="space"> </span><span style="color:#98C379;">--local</span><span class="space"> </span><span style="color:#98C379;">user.email</span><span class="space"> </span><span style="color:#98C379;">&quot;574355578@qq.com&quot;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#98C379;">git</span><span class="space"> </span><span style="color:#98C379;">config</span><span class="space"> </span><span style="color:#98C379;">--local</span><span class="space"> </span><span style="color:#98C379;">user.name</span><span class="space"> </span><span style="color:#98C379;">&quot;My</span><span class="space"> </span><span style="color:#98C379;">Github</span><span class="space"> </span><span style="color:#98C379;">Actions&quot;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#98C379;">git</span><span class="space"> </span><span style="color:#98C379;">add</span><span class="space"> </span><span style="color:#98C379;">-A</span><span class="space"> </span><span class="space"> </span><span style="color:#98C379;">#</span><span class="space"> </span><span style="color:#98C379;">简化添加所有变更文件</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#98C379;">git</span><span class="space"> </span><span style="color:#98C379;">commit</span><span class="space"> </span><span style="color:#98C379;">-m</span><span class="space"> </span><span style="color:#98C379;">&quot;chore:</span><span class="space"> </span><span style="color:#98C379;">日常更新bing壁纸&quot;</span><span class="space"> </span><span style="color:#98C379;">||</span><span class="space"> </span><span style="color:#98C379;">echo</span><span class="space"> </span><span style="color:#98C379;">&quot;没有新变更需要提交&quot;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#98C379;">git</span><span class="space"> </span><span style="color:#98C379;">pull</span><span class="space"> </span><span style="color:#98C379;">--rebase</span><span class="space"> </span><span class="space"> </span><span style="color:#98C379;">#</span><span class="space"> </span><span style="color:#98C379;">添加</span><span class="space"> </span><span style="color:#98C379;">rebase</span><span class="space"> </span><span style="color:#98C379;">避免合并提交</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">推送变更到</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">main</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">分支</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">Push</span><span class="space"> </span><span style="color:#98C379;">changes</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">uses</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">ad-m/github-push-action@master</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">with</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">github_token</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">是</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">GitHub</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">Actions</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">自动生成的认证令牌，主要用于：</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">身份验证</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">-</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">允许工作流向仓库推送代码变更</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">权限控制</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">-</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">自动拥有当前仓库的读写权限（但仅限于当前仓库）</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">安全性</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">-</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">由</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">GitHub</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">自动生成和管理，无需手动配置敏感信息</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">在https://github.com/settings/tokens设置一个Personal</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">access</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">tokens</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">(classic)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">将这个token设置到仓库的settings/secrets/actions</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">github_token</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">\${{ secrets.GITHUB_TOKEN }}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">branch</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">main</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>同时需要配置另一个workflow，用于在update-bing-wallpaper.yml完成后触发部署， 而这个workflow主要负责收到push后的自动部署：</p><div class="language-yml line-numbers-mode" data-ext="yml" data-title="yml"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">deploy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D19A66;">on</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">添加</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">workflow_run</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">触发器</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">workflow_run</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">workflows</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#ABB2BF;">[</span><span class="space"> </span><span style="color:#98C379;">&quot;Update</span><span class="space"> </span><span style="color:#98C379;">Bing</span><span class="space"> </span><span style="color:#98C379;">Wallpaper&quot;</span><span class="space"> </span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">branches</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#ABB2BF;">[</span><span class="space"> </span><span style="color:#98C379;">main</span><span class="space"> </span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">types</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#98C379;">completed</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">每当</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">push</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">到</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">main</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">分支时触发部署</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">push</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">branches</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#ABB2BF;">[</span><span class="space"> </span><span style="color:#98C379;">main</span><span class="space"> </span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">paths-ignore</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">添加路径过滤</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#98C379;">&#39;docs/壁纸/**&#39;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#98C379;">&#39;target/**&#39;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">手动触发部署</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">workflow_dispatch</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75;">jobs</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">docs</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">runs-on</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">ubuntu-latest</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">steps</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">uses</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">actions/checkout@v4</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">with</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">“最近更新时间”</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">等</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">git</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">日志相关信息，需要拉取全部提交记录</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">fetch-depth</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#D19A66;">0</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">Setup</span><span class="space"> </span><span style="color:#98C379;">pnpm</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">uses</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">pnpm/action-setup@v4</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">with</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">选择要使用的</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">pnpm</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">版本</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#D19A66;">8</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">使用</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">pnpm</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">安装依赖</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">run_install</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#D19A66;">true</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">这里选择WebP是因为WebP</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">在相同质量下，文件大小通常比</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">JPG</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">和</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">PNG</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">更小。</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">实际体验下来首页加载图片的速度也快多了，体感很好，而且视觉差别差不多</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">Install</span><span class="space"> </span><span style="color:#98C379;">WebP</span><span class="space"> </span><span style="color:#98C379;">tools</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">run</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">sudo</span><span class="space"> </span><span style="color:#98C379;">apt-get</span><span class="space"> </span><span style="color:#98C379;">update</span><span class="space"> </span><span style="color:#98C379;">&amp;&amp;</span><span class="space"> </span><span style="color:#98C379;">sudo</span><span class="space"> </span><span style="color:#98C379;">apt-get</span><span class="space"> </span><span style="color:#98C379;">install</span><span class="space"> </span><span style="color:#98C379;">-y</span><span class="space"> </span><span style="color:#98C379;">webp</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">Convert</span><span class="space"> </span><span style="color:#98C379;">images</span><span class="space"> </span><span style="color:#98C379;">to</span><span class="space"> </span><span style="color:#98C379;">WebP</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">run</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#C678DD;">|</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#98C379;">find</span><span class="space"> </span><span style="color:#98C379;">docs/.vuepress/public/images</span><span class="space"> </span><span style="color:#98C379;">-type</span><span class="space"> </span><span style="color:#98C379;">f</span><span class="space"> </span><span style="color:#98C379;">-name</span><span class="space"> </span><span style="color:#98C379;">&quot;*.jpg&quot;</span><span class="space"> </span><span style="color:#98C379;">-exec</span><span class="space"> </span><span style="color:#98C379;">sh</span><span class="space"> </span><span style="color:#98C379;">-c</span><span class="space"> </span><span style="color:#98C379;">&#39;cwebp</span><span class="space"> </span><span style="color:#98C379;">-q</span><span class="space"> </span><span style="color:#98C379;">80</span><span class="space"> </span><span style="color:#98C379;">&quot;$1&quot;</span><span class="space"> </span><span style="color:#98C379;">-o</span><span class="space"> </span><span style="color:#98C379;">&quot;\${1%.jpg}.webp&quot;&#39;</span><span class="space"> </span><span style="color:#98C379;">_</span><span class="space"> </span><span style="color:#98C379;">{}</span><span class="space"> </span><span style="color:#98C379;">\\;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#98C379;">find</span><span class="space"> </span><span style="color:#98C379;">docs/.vuepress/public/images</span><span class="space"> </span><span style="color:#98C379;">-type</span><span class="space"> </span><span style="color:#98C379;">f</span><span class="space"> </span><span style="color:#98C379;">-name</span><span class="space"> </span><span style="color:#98C379;">&quot;*.jpg&quot;</span><span class="space"> </span><span style="color:#98C379;">-exec</span><span class="space"> </span><span style="color:#98C379;">rm</span><span class="space"> </span><span style="color:#98C379;">{}</span><span class="space"> </span><span style="color:#98C379;">\\;</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">运行构建脚本</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">Build</span><span class="space"> </span><span style="color:#98C379;">VuePress</span><span class="space"> </span><span style="color:#98C379;">site</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">run</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">pnpm</span><span class="space"> </span><span style="color:#98C379;">docs:build</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">查看</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">workflow</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">的文档来获取更多信息</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">@see</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">https://github.com/crazy-max/ghaction-github-pages</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">-</span><span class="space"> </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">Deploy</span><span class="space"> </span><span style="color:#98C379;">to</span><span class="space"> </span><span style="color:#98C379;">GitHub</span><span class="space"> </span><span style="color:#98C379;">Pages</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">uses</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">crazy-max/ghaction-github-pages@v4</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">with</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">部署到</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">gh-pages</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">分支</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">target_branch</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">gh-pages</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">部署目录为</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">VuePress</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">的默认输出目录</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">build_dir</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">docs/.vuepress/dist</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">env</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">#</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">@see</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">https://docs.github.com/cn/actions/reference/authentication-in-a-workflow#about-the-github_token-secret</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">GITHUB_TOKEN</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">\${{ secrets.GITHUB_TOKEN }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-数据结构" tabindex="-1"><a class="header-anchor" href="#_4-数据结构"><span>4. 数据结构</span></a></h2><p>程序会生成两个主要文件：</p><ol><li>壁纸图片： docs/.vuepress/public/images/bing/bingWallpaper.jpg</li><li>壁纸数据： docs/.vuepress/public/data/bing-wallpaper.json</li></ol><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">&quot;lastUpdate&quot;</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">&quot;2024-03-10&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">&quot;copyright&quot;</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">&quot;图片版权信息&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">&quot;image&quot;</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">&quot;images/bing/bingWallpaper.jpg&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-网站配置" tabindex="-1"><a class="header-anchor" href="#_5-网站配置"><span>5. 网站配置</span></a></h2><p>主要实现在 <code>HomeBanner.vue</code> 中，代码如下：</p><div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">template</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">div</span><span class="space"> </span><span style="color:#D19A66;">class</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;home-banner&quot;</span><span class="space"> </span><span style="color:#D19A66;">:style</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;bannerStyle&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">div</span><span class="space"> </span><span style="color:#D19A66;">class</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;banner-content&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">div</span><span class="space"> </span><span style="color:#D19A66;">class</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;avatar-container&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">img</span><span class="space"> </span><span style="color:#D19A66;">class</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;avatar&quot;</span><span class="space"> </span><span style="color:#D19A66;">:src</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;avatarUrl&quot;</span><span class="space"> </span><span style="color:#D19A66;">alt</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;Exiao&#39;s</span><span class="space"> </span><span style="color:#98C379;">Avatar&quot;</span><span class="space"> </span><span style="color:#ABB2BF;">/&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">h1</span><span class="space"> </span><span style="color:#D19A66;">class</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;banner-text&quot;</span><span class="space"> </span><span style="color:#D19A66;">style</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;font-size:</span><span class="space"> </span><span style="color:#98C379;">26px&quot;</span><span style="color:#ABB2BF;">&gt;🍐欢迎来到霄霄的技术博客~呀呼~&lt;/</span><span style="color:#E06C75;">h1</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">div</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">template</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">script</span><span class="space"> </span><span style="color:#D19A66;">setup</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">import</span><span class="space"> </span><span style="color:#ABB2BF;">{</span><span style="color:#E06C75;">ref</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#E06C75;">onMounted</span><span style="color:#ABB2BF;">}</span><span class="space"> </span><span style="color:#C678DD;">from</span><span class="space"> </span><span style="color:#98C379;">&#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">//</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">背景图片</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">URL</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">const</span><span class="space"> </span><span style="color:#E5C07B;">backgroundUrl</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#61AFEF;">ref</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">//</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">你的头像</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">URL，请替换为你的实际头像地址</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">const</span><span class="space"> </span><span style="color:#E5C07B;">avatarUrl</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#61AFEF;">ref</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;/images/homeAvatar.jpg&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">//</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">判断是否为移动端</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">const</span><span class="space"> </span><span style="color:#61AFEF;">isMobile</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#ABB2BF;">()</span><span class="space"> </span><span style="color:#C678DD;">=&gt;</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">return</span><span class="space"> </span><span style="color:#E06C75;">/Android</span><span style="color:#ABB2BF;">|</span><span style="color:#E06C75;">webOS</span><span style="color:#ABB2BF;">|</span><span style="color:#E06C75;">iPhone</span><span style="color:#ABB2BF;">|</span><span style="color:#E06C75;">iPad</span><span style="color:#ABB2BF;">|</span><span style="color:#E06C75;">iPod</span><span style="color:#ABB2BF;">|</span><span style="color:#E06C75;">BlackBerry</span><span style="color:#ABB2BF;">|</span><span style="color:#E06C75;">IEMobile</span><span style="color:#ABB2BF;">|</span><span style="color:#E06C75;">Opera</span><span class="space"> </span><span style="color:#E06C75;">Mini/</span><span style="color:#C678DD;">i</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">test</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">navigator</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">userAgent</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">//</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">背景样式</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">const</span><span class="space"> </span><span style="color:#E5C07B;">bannerStyle</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#61AFEF;">ref</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">backgroundImage</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">&#39;none&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">backgroundSize</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">&#39;cover&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E06C75;">backgroundPosition</span><span style="color:#ABB2BF;">:</span><span class="space"> </span><span style="color:#98C379;">&#39;center&#39;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">//</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">使用本地</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">Bing</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">壁纸</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">const</span><span class="space"> </span><span style="color:#61AFEF;">useBingWallpaper</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#ABB2BF;">()</span><span class="space"> </span><span style="color:#C678DD;">=&gt;</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">try</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">//</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">直接使用本地壁纸路径</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">const</span><span class="space"> </span><span style="color:#E5C07B;">imageUrl</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#98C379;">&#39;/images/bingWallpaper.jpg&#39;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">backgroundUrl</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">value</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#E06C75;">imageUrl</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">bannerStyle</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">value</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">backgroundImage</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#98C379;">\`url(</span><span style="color:#C678DD;">\${</span><span style="color:#E06C75;">imageUrl</span><span style="color:#C678DD;">}</span><span style="color:#98C379;">)\`</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span><span class="space"> </span><span style="color:#C678DD;">catch</span><span class="space"> </span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">error</span><span style="color:#ABB2BF;">)</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">error</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;加载本地壁纸出错:&#39;</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#E06C75;">error</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">//</span><span class="space"> </span><span style="color:#7F848E;font-style:italic;">使用默认背景图</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#E5C07B;">bannerStyle</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">value</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">backgroundImage</span><span class="space"> </span><span style="color:#56B6C2;">=</span><span class="space"> </span><span style="color:#98C379;">&#39;url(/images/defaultHomeBanner.jpg)&#39;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#61AFEF;">onMounted</span><span style="color:#ABB2BF;">(()</span><span class="space"> </span><span style="color:#C678DD;">=&gt;</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#61AFEF;">useBingWallpaper</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">})</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">style</span><span class="space"> </span><span style="color:#D19A66;">scoped</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#D19A66;">.home-banner</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">width:</span><span class="space"> </span><span style="color:#D19A66;">100</span><span style="color:#E06C75;">%</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">height:</span><span class="space"> </span><span style="color:#D19A66;">100</span><span style="color:#E06C75;">vh</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">display:</span><span class="space"> </span><span style="color:#D19A66;">flex</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">justify-content:</span><span class="space"> </span><span style="color:#D19A66;">center</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">align-items:</span><span class="space"> </span><span style="color:#D19A66;">center</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">position:</span><span class="space"> </span><span style="color:#D19A66;">relative</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">overflow:</span><span class="space"> </span><span style="color:#D19A66;">hidden</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#D19A66;">.home-banner</span><span style="color:#56B6C2;">::before</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">content:</span><span class="space"> </span><span style="color:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">position:</span><span class="space"> </span><span style="color:#D19A66;">absolute</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">top:</span><span class="space"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">left:</span><span class="space"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">right:</span><span class="space"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">bottom:</span><span class="space"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">background-color:</span><span class="space"> </span><span style="color:#56B6C2;">rgba</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#D19A66;">0.4</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">z-index:</span><span class="space"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#D19A66;">.banner-content</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">position:</span><span class="space"> </span><span style="color:#D19A66;">relative</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">z-index:</span><span class="space"> </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">text-align:</span><span class="space"> </span><span style="color:#D19A66;">center</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">color:</span><span class="space"> </span><span style="color:#D19A66;">white</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">padding:</span><span class="space"> </span><span style="color:#D19A66;">2</span><span style="color:#E06C75;">rem</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#D19A66;">.avatar-container</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">margin-bottom:</span><span class="space"> </span><span style="color:#D19A66;">2</span><span style="color:#E06C75;">rem</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#D19A66;">.avatar</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">width:</span><span class="space"> </span><span style="color:#D19A66;">150</span><span style="color:#E06C75;">px</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">height:</span><span class="space"> </span><span style="color:#D19A66;">150</span><span style="color:#E06C75;">px</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">border-radius:</span><span class="space"> </span><span style="color:#D19A66;">50</span><span style="color:#E06C75;">%</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">border:</span><span class="space"> </span><span style="color:#D19A66;">3</span><span style="color:#E06C75;">px</span><span class="space"> </span><span style="color:#D19A66;">solid</span><span class="space"> </span><span style="color:#D19A66;">white</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">box-shadow:</span><span class="space"> </span><span style="color:#D19A66;">0</span><span class="space"> </span><span style="color:#D19A66;">0</span><span class="space"> </span><span style="color:#D19A66;">10</span><span style="color:#E06C75;">px</span><span class="space"> </span><span style="color:#56B6C2;">rgba</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#D19A66;">0.3</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">object-fit:</span><span class="space"> </span><span style="color:#D19A66;">cover</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#D19A66;">.banner-text</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">font-size:</span><span class="space"> </span><span style="color:#D19A66;">2.5</span><span style="color:#E06C75;">rem</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">font-weight:</span><span class="space"> </span><span style="color:#D19A66;">bold</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">text-shadow:</span><span class="space"> </span><span style="color:#D19A66;">2</span><span style="color:#E06C75;">px</span><span class="space"> </span><span style="color:#D19A66;">2</span><span style="color:#E06C75;">px</span><span class="space"> </span><span style="color:#D19A66;">4</span><span style="color:#E06C75;">px</span><span class="space"> </span><span style="color:#56B6C2;">rgba</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">,</span><span class="space"> </span><span style="color:#D19A66;">0.5</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">margin:</span><span class="space"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#C678DD;">@media</span><span class="space"> </span><span style="color:#ABB2BF;">(max-width:</span><span class="space"> </span><span style="color:#D19A66;">768</span><span style="color:#E06C75;">px</span><span style="color:#ABB2BF;">)</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#D19A66;">.avatar</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">width:</span><span class="space"> </span><span style="color:#D19A66;">120</span><span style="color:#E06C75;">px</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">height:</span><span class="space"> </span><span style="color:#D19A66;">120</span><span style="color:#E06C75;">px</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#D19A66;">.banner-text</span><span class="space"> </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">font-size:</span><span class="space"> </span><span style="color:#D19A66;">1.8</span><span style="color:#E06C75;">rem</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">style</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,22))])}const F=c(i,[["render",B]]),v=JSON.parse(`{"path":"/article/daily-update-home-background/","title":"每日更新主页背景图片","lang":"zh-CN","frontmatter":{"title":"每日更新主页背景图片","createTime":"2025/03/10 15:21:58","permalink":"/article/daily-update-home-background/","description":"使用GitHub Action和Java实现每日下载bing图片更新主页背景，以达到加快访问博客主页的效果","tags":["GitHub Action","Java"],"keywords":["GitHub Action定时脚本","Java获取bing图片"],"head":[["meta",{"property":"og:url","content":"https://callmeexiao.baby/article/daily-update-home-background/"}],["meta",{"property":"og:site_name","content":"Exiao's Blog"}],["meta",{"property":"og:title","content":"每日更新主页背景图片"}],["meta",{"property":"og:description","content":"使用GitHub Action和Java实现每日下载bing图片更新主页背景，以达到加快访问博客主页的效果"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-01T08:31:31.000Z"}],["meta",{"property":"article:tag","content":"GitHub Action"}],["meta",{"property":"article:tag","content":"Java"}],["meta",{"property":"article:modified_time","content":"2025-08-01T08:31:31.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"每日更新主页背景图片\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-08-01T08:31:31.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":6.19,"words":1856},"git":{"updatedTime":1754037091000,"contributors":[{"name":"Shepherd From Home","username":"Shepherd From Home","email":"574355578@qq.com","commits":3,"avatar":"https://avatars.githubusercontent.com/Shepherd From Home?v=4","url":"https://github.com/Shepherd From Home"},{"name":"Exiao","username":"Exiao","email":"574355578@qq.com","commits":3,"avatar":"https://avatars.githubusercontent.com/Exiao?v=4","url":"https://github.com/Exiao"}]},"filePathRelative":"博客建设/每日更新主页背景图片.md","categoryList":[{"id":"2bd3ad","sort":10002,"name":"博客建设"}]}`);export{F as comp,v as data};
